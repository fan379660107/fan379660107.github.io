(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54a9992e"],{1148:function(t,e,r){"use strict";var n=r("a691"),a=r("1d80");t.exports="".repeat||function(t){var e=String(a(this)),r="",i=n(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(r+=e);return r}},"150d":function(t,e,r){},3020:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-row",{attrs:{type:"flex",justify:"center",gutter:20}},[r("el-col",[r("div",[r("div",{staticClass:"grid-content bg-purple1"},[r("div",{staticClass:"title"},[t._v("日销售统计")]),r("div",{staticClass:"body"},[r("div",{staticClass:"status"},[r("div",{staticClass:"item"},[r("div",{staticClass:"num color1 text-shadow1"},[t._v(" "+t._s(t.orderCountList)+" ")]),r("div",{staticClass:"text color2"},[t._v("当日销售量（个）")])])]),r("div",{staticClass:"status"},[r("div",{staticClass:"item"},[r("div",{staticClass:"num color1 text-shadow1"},[t._v(" "+t._s(t.orderAmountList)+" ")]),r("div",{staticClass:"text color2"},[t._v("当日销售额（元）")])])]),r("div",{staticClass:"status"},[r("div",{staticClass:"item"},[r("div",{staticClass:"num color1 text-shadow1"},[t._v(t._s(t.totalBillList))]),r("div",{staticClass:"text color2"},[t._v("当日分成（元）")])])])])])])]),r("el-col",[r("div",{staticClass:"grid-content bg-purple2"},[r("span",{staticClass:"title"},[t._v("月销售统计")]),r("div",{staticClass:"body"},[r("div",{staticClass:"status"},[r("div",{staticClass:"item"},[r("div",{staticClass:"num color3 text-shadow2"},[t._v(" "+t._s(t.totalBillMonthList)+" ")]),r("div",{staticClass:"text color4"},[t._v("当月销售量（个）")])])]),r("div",{staticClass:"status"},[r("div",{staticClass:"item"},[r("div",{staticClass:"num color3 text-shadow2"},[t._v(" "+t._s(t.orderAmountMonthList)+" ")]),r("div",{staticClass:"text color4"},[t._v("当月销售额（万元）")])])]),r("div",{staticClass:"status"},[r("div",{staticClass:"item"},[r("div",{staticClass:"num color3 text-shadow2"},[t._v(" "+t._s(t.orderCountMonthList)+" ")]),r("div",{staticClass:"text color4"},[t._v("当月分成（元）")])])])])])])],1),r("tablePage")],1)},a=[],i=r("c7eb"),s=r("1da1"),o=(r("b680"),r("5a0c")),u=r.n(o),c=r("b775"),l=function(t){return Object(c["a"])({url:"/api/order-service/report/partnerCollect",params:t})},d=function(t){return Object(c["a"])({url:"/api/order-service/report/totalBill",params:t})},h=function(t){return Object(c["a"])({url:"/api/order-service/report/orderAmount",params:t})},f=function(t){return Object(c["a"])({url:"/api/order-service/report/orderCount",params:t})},v=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"box-card"},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[r("el-form-item",{attrs:{label:"合作商:"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},t._l(t.tableData,(function(t,e){return r("el-option",{key:e,attrs:{label:t.ownerName,value:t.ownerName}})})),1)],1),r("span",[t._v("日期：")]),r("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":this.partner.start,"end-placeholder":this.partner.end},model:{value:t.valueTime,callback:function(e){t.valueTime=e},expression:"valueTime"}}),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[r("i",{staticClass:"el-icon-search"}),t._v(" 查询")])],1)],1)],1),r("div",[r("div",{staticClass:"stats"},[r("span",{staticClass:"label"},[t._v("笔数统计：")]),r("span",{staticClass:"value"},[t._v(t._s(t.count1))]),r("span",{staticClass:"unit"},[t._v("个")]),r("span",{staticClass:"label"},[t._v("收入统计：")]),r("span",{staticClass:"value"},[t._v(t._s(t.count2))]),r("span",{staticClass:"unit"},[t._v("元")]),r("span",{staticClass:"label"},[t._v("分成统计：")]),r("span",{staticClass:"value"},[t._v(t._s(t.count3))]),r("span",{staticClass:"unit"},[t._v("元")])]),r("el-table",{staticClass:"form-data",staticStyle:{width:"100%",margin:"auto"},attrs:{data:t.tableData,stripe:""}},[r("el-table-column",{attrs:{prop:"date",label:t.workOrderTitle.date,width:"200"}}),r("el-table-column",{attrs:{prop:"ownerName",label:t.workOrderTitle.ownerName,width:"300"}}),r("el-table-column",{attrs:{prop:"ratio",label:t.workOrderTitle.ratio,width:"200"}}),r("el-table-column",{attrs:{prop:"orderTotalMoney",label:t.workOrderTitle.orderTotalMoney,width:"200"}}),r("el-table-column",{attrs:{prop:"orderCount",label:t.workOrderTitle.orderCount,width:"200"}}),r("el-table-column",{attrs:{prop:"totalBill",label:t.workOrderTitle.totalBill,width:"200"}})],1)],1)])},p=[],m={data:function(){return{partner:{partnerName:"",pageIndex:1,pageSize:10,start:u()(new Date).format("YYYY-MM-01"),end:u()(new Date).format("YYYY-MM-DD")},valueTime:"",formInline:{user:""},select:"",workOrderTitle:{date:"订单日期",ownerName:"合作商",ratio:"分成比例",orderTotalMoney:"收入（元）",orderCount:"比数",totalBill:"分成金额"},tableData:[],count:""}},created:function(){this.getReconciliation(this.partner)},computed:{count1:function(){for(var t=0,e=0;e<this.tableData.length;e++)t+=this.tableData[e].orderCount;return t.toFixed()},count2:function(){for(var t=0,e=0;e<this.tableData.length;e++)t+=this.tableData[e].orderTotalMoney;return(t/1e3).toFixed(2)},count3:function(){for(var t=0,e=0;e<this.tableData.length;e++)t+=this.tableData[e].totalBill;return(t/1e3).toFixed(2)}},methods:{onSubmit:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.partner.start=t.valueTime[0],t.partner.end=t.valueTime[1],t.partner.partnerName=t.select,e.next=5,t.getReconciliation(t.partner);case 5:case"end":return e.stop()}}),e)})))()},onRemove:function(){this.isShowDialog=!0},close:function(){this.isShowDialog=!1},isConfig:function(){this.isShowConfig=!0},getReconciliation:function(t){var e=this;return Object(s["a"])(Object(i["a"])().mark((function r(){var n;return Object(i["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,l(t);case 2:n=r.sent,e.tableData=n.data.currentPageRecords;case 4:case"end":return r.stop()}}),r)})))()}}},w=m,b=(r("4590"),r("2877")),$=Object(b["a"])(w,v,p,!1,null,"5f6c0fac",null),M=$.exports,C={data:function(){return{nowday:{start:u()(new Date).format("YYYY-MM-DD 00:00:00"),end:u()().endOf(1,"day").format("YYYY-MM-DD 23:59:59")},nowmonth:{start:u()().startOf("month").format("YYYY-MM-DD 00:00:00"),end:u()().endOf("date").format("YYYY-MM-DD 23:59:59")},totalBillList:"",totalBillMonthList:"",orderAmountList:"",orderAmountMonthList:"",orderCountList:"",orderCountMonthList:""}},created:function(){this.totalBill(),this.totalBillMonth(),this.orderAmount(),this.orderAmountMonth(),this.orderCount(),this.orderCountMonth()},components:{tablePage:M},methods:{totalBill:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){var r;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d(t.nowday);case 2:r=e.sent,t.totalBillList=r.data;case 4:case"end":return e.stop()}}),e)})))()},totalBillMonth:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){var r;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d(t.nowmonth);case 2:r=e.sent,t.totalBillMonthList=r.data;case 4:case"end":return e.stop()}}),e)})))()},orderAmount:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){var r;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h(t.nowday);case 2:r=e.sent,t.orderAmountList=r.data;case 4:case"end":return e.stop()}}),e)})))()},orderAmountMonth:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){var r;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h(t.nowmonth);case 2:r=e.sent,t.orderAmountMonthList=(r.data/1e6).toFixed(2);case 4:case"end":return e.stop()}}),e)})))()},orderCount:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){var r;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f(t.nowday);case 2:r=e.sent,t.orderCountList=r.data;case 4:case"end":return e.stop()}}),e)})))()},orderCountMonth:function(){var t=this;return Object(s["a"])(Object(i["a"])().mark((function e(){var r;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f(t.nowmonth);case 2:r=e.sent,t.orderCountMonthList=r.data;case 4:case"end":return e.stop()}}),e)})))()}}},g=C,y=(r("dfb0"),Object(b["a"])(g,n,a,!1,null,"531edeca",null));e["default"]=y.exports},"408a":function(t,e,r){var n=r("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},4590:function(t,e,r){"use strict";r("150d")},5978:function(t,e,r){},"5a0c":function(t,e,r){!function(e,r){t.exports=r()}(0,(function(){"use strict";var t=1e3,e=6e4,r=36e5,n="millisecond",a="second",i="minute",s="hour",o="day",u="week",c="month",l="quarter",d="year",h="date",f="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},w=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},b={s:w,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),a=r%60;return(e<=0?"+":"-")+w(n,2,"0")+":"+w(a,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),a=e.clone().add(n,c),i=r-a<0,s=e.clone().add(n+(i?-1:1),c);return+(-(n+(r-a)/(i?a-s:s-a))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:d,w:u,d:o,D:h,h:s,m:i,s:a,ms:n,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},$="en",M={};M[$]=m;var C=function(t){return t instanceof O},g=function t(e,r,n){var a;if(!e)return $;if("string"==typeof e){var i=e.toLowerCase();M[i]&&(a=i),r&&(M[i]=r,a=i);var s=e.split("-");if(!a&&s.length>1)return t(s[0])}else{var o=e.name;M[o]=e,a=o}return!n&&a&&($=a),a||!n&&$},y=function(t,e){if(C(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new O(r)},D=b;D.l=g,D.i=C,D.w=function(t,e){return y(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var O=function(){function m(t){this.$L=g(t.locale,null,!0),this.parse(t)}var w=m.prototype;return w.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(D.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(v);if(n){var a=n[2]-1||0,i=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},w.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},w.$utils=function(){return D},w.isValid=function(){return!(this.$d.toString()===f)},w.isSame=function(t,e){var r=y(t);return this.startOf(e)<=r&&r<=this.endOf(e)},w.isAfter=function(t,e){return y(t)<this.startOf(e)},w.isBefore=function(t,e){return this.endOf(e)<y(t)},w.$g=function(t,e,r){return D.u(t)?this[e]:this.set(r,t)},w.unix=function(){return Math.floor(this.valueOf()/1e3)},w.valueOf=function(){return this.$d.getTime()},w.startOf=function(t,e){var r=this,n=!!D.u(e)||e,l=D.p(t),f=function(t,e){var a=D.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return n?a:a.endOf(o)},v=function(t,e){return D.w(r.toDate()[t].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},p=this.$W,m=this.$M,w=this.$D,b="set"+(this.$u?"UTC":"");switch(l){case d:return n?f(1,0):f(31,11);case c:return n?f(1,m):f(0,m+1);case u:var $=this.$locale().weekStart||0,M=(p<$?p+7:p)-$;return f(n?w-M:w+(6-M),m);case o:case h:return v(b+"Hours",0);case s:return v(b+"Minutes",1);case i:return v(b+"Seconds",2);case a:return v(b+"Milliseconds",3);default:return this.clone()}},w.endOf=function(t){return this.startOf(t,!1)},w.$set=function(t,e){var r,u=D.p(t),l="set"+(this.$u?"UTC":""),f=(r={},r[o]=l+"Date",r[h]=l+"Date",r[c]=l+"Month",r[d]=l+"FullYear",r[s]=l+"Hours",r[i]=l+"Minutes",r[a]=l+"Seconds",r[n]=l+"Milliseconds",r)[u],v=u===o?this.$D+(e-this.$W):e;if(u===c||u===d){var p=this.clone().set(h,1);p.$d[f](v),p.init(),this.$d=p.set(h,Math.min(this.$D,p.daysInMonth())).$d}else f&&this.$d[f](v);return this.init(),this},w.set=function(t,e){return this.clone().$set(t,e)},w.get=function(t){return this[D.p(t)]()},w.add=function(n,l){var h,f=this;n=Number(n);var v=D.p(l),p=function(t){var e=y(f);return D.w(e.date(e.date()+Math.round(t*n)),f)};if(v===c)return this.set(c,this.$M+n);if(v===d)return this.set(d,this.$y+n);if(v===o)return p(1);if(v===u)return p(7);var m=(h={},h[i]=e,h[s]=r,h[a]=t,h)[v]||1,w=this.$d.getTime()+n*m;return D.w(w,this)},w.subtract=function(t,e){return this.add(-1*t,e)},w.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||f;var n=t||"YYYY-MM-DDTHH:mm:ssZ",a=D.z(this),i=this.$H,s=this.$m,o=this.$M,u=r.weekdays,c=r.months,l=function(t,r,a,i){return t&&(t[r]||t(e,n))||a[r].slice(0,i)},d=function(t){return D.s(i%12||12,t,"0")},h=r.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},v={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:D.s(o+1,2,"0"),MMM:l(r.monthsShort,o,c,3),MMMM:l(c,o),D:this.$D,DD:D.s(this.$D,2,"0"),d:String(this.$W),dd:l(r.weekdaysMin,this.$W,u,2),ddd:l(r.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:D.s(i,2,"0"),h:d(1),hh:d(2),a:h(i,s,!0),A:h(i,s,!1),m:String(s),mm:D.s(s,2,"0"),s:String(this.$s),ss:D.s(this.$s,2,"0"),SSS:D.s(this.$ms,3,"0"),Z:a};return n.replace(p,(function(t,e){return e||v[t]||a.replace(":","")}))},w.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},w.diff=function(n,h,f){var v,p=D.p(h),m=y(n),w=(m.utcOffset()-this.utcOffset())*e,b=this-m,$=D.m(this,m);return $=(v={},v[d]=$/12,v[c]=$,v[l]=$/3,v[u]=(b-w)/6048e5,v[o]=(b-w)/864e5,v[s]=b/r,v[i]=b/e,v[a]=b/t,v)[p]||b,f?$:D.a($)},w.daysInMonth=function(){return this.endOf(c).$D},w.$locale=function(){return M[this.$L]},w.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=g(t,e,!0);return n&&(r.$L=n),r},w.clone=function(){return D.w(this.$d,this)},w.toDate=function(){return new Date(this.valueOf())},w.toJSON=function(){return this.isValid()?this.toISOString():null},w.toISOString=function(){return this.$d.toISOString()},w.toString=function(){return this.$d.toUTCString()},m}(),_=O.prototype;return y.prototype=_,[["$ms",n],["$s",a],["$m",i],["$H",s],["$W",o],["$M",c],["$y",d],["$D",h]].forEach((function(t){_[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),y.extend=function(t,e){return t.$i||(t(e,O,y),t.$i=!0),y},y.locale=g,y.isDayjs=C,y.unix=function(t){return y(1e3*t)},y.en=M[$],y.Ls=M,y.p={},y}))},b680:function(t,e,r){"use strict";var n=r("23e7"),a=r("a691"),i=r("408a"),s=r("1148"),o=r("d039"),u=1..toFixed,c=Math.floor,l=function(t,e,r){return 0===e?r:e%2===1?l(t,e-1,r*t):l(t*t,e/2,r)},d=function(t){var e=0,r=t;while(r>=4096)e+=12,r/=4096;while(r>=2)e+=1,r/=2;return e},h=u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){u.call({})}));n({target:"Number",proto:!0,forced:h},{toFixed:function(t){var e,r,n,o,u=i(this),h=a(t),f=[0,0,0,0,0,0],v="",p="0",m=function(t,e){var r=-1,n=e;while(++r<6)n+=t*f[r],f[r]=n%1e7,n=c(n/1e7)},w=function(t){var e=6,r=0;while(--e>=0)r+=f[e],f[e]=c(r/t),r=r%t*1e7},b=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==f[t]){var r=String(f[t]);e=""===e?r:e+s.call("0",7-r.length)+r}return e};if(h<0||h>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(v="-",u=-u),u>1e-21)if(e=d(u*l(2,69,1))-69,r=e<0?u*l(2,-e,1):u/l(2,e,1),r*=4503599627370496,e=52-e,e>0){m(0,r),n=h;while(n>=7)m(1e7,0),n-=7;m(l(10,n,1),0),n=e-1;while(n>=23)w(1<<23),n-=23;w(1<<n),m(1,1),w(2),p=b()}else m(0,r),m(1<<-e,0),p=b()+s.call("0",h);return h>0?(o=p.length,p=v+(o<=h?"0."+s.call("0",h-o)+p:p.slice(0,o-h)+"."+p.slice(o-h))):p=v+p,p}})},dfb0:function(t,e,r){"use strict";r("5978")}}]);