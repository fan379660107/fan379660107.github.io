(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8081a64e"],{"0811":function(e,t,n){"use strict";n("08d4")},"08d4":function(e,t,n){},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"1d0e":function(e,t,n){"use strict";n("d7b0")},"46d1":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("searchTop",{attrs:{searchItem:e.searchItem},on:{searchForm:e.searchGoods}}),n("el-card",{staticClass:"box-card"},[n("el-button",{staticClass:"elBtn",attrs:{icon:"el-icon-circle-plus-outline"},on:{click:e.newGoodsType}},[e._v(" 新建 ")]),n("goodsTable",{ref:"search",on:{editGoodsType:e.editGoodsType,paging:e.pagingFn}}),n("div",{staticClass:"paging"},[n("div",[e._v(" 共"),n("span",[e._v(e._s(e.paging.totalCount))]),e._v("条记录 第"),n("span",[e._v(e._s(e.paging.pageIndex))]),e._v("/"),n("span",[e._v(e._s(e.paging.totalPage))]),e._v("页 ")]),n("div",{staticClass:"pagingBtn"},[n("el-button",{attrs:{disabled:e.paging.pageIndex<=1},on:{click:e.PreviousPage}},[e._v("上一页")]),n("el-button",{attrs:{disabled:e.paging.pageIndex===e.paging.totalPage},on:{click:e.nextPage}},[e._v("下一页")])],1)])],1),n("addGoods",{ref:"goods",attrs:{visible:e.dialogVisible,editGoodsTypeVal:e.editGoodsTypeVal},on:{"update:visible":function(t){e.dialogVisible=t},addGoods:e.addGoodsFn}})],1)},a=[],r=(n("ac1f"),n("841c"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-table",{staticStyle:{width:"98%",margin:"auto"},attrs:{data:e.tableData,stripe:""}},[n("el-table-column",{attrs:{type:"index",label:e.goodsListTitle.index,width:"100"}}),n("el-table-column",{attrs:{prop:"className",label:e.goodsListTitle.goodsTypeName,width:"1340"}}),n("el-table-column",{attrs:{prop:"address",label:e.goodsListTitle.operation,width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return e.$emit("editGoodsType",t.row)}}},[e._v("修改")]),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(n){return e.delGoodsType(t.row)}}},[e._v("删除")])]}}])})],1)}),i=[],o=n("c7eb"),c=n("1da1"),l=n("c40e"),u={name:"GoodsTable",data:function(){return{goodsListTitle:{index:"序号",goodsTypeName:"商品类型名称",operation:"操作"},tableData:[],pageIndex:1}},methods:{getGoodsList:function(e){var t=this;return Object(c["a"])(Object(o["a"])().mark((function n(){var s;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(l["f"])({className:e,pageIndex:t.pageIndex});case 2:s=n.sent,t.$emit("paging",s.data),t.tableData=s.data.currentPageRecords;case 5:case"end":return n.stop()}}),n)})))()},delGoodsType:function(e){var t=this;return Object(c["a"])(Object(o["a"])().mark((function n(){return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$confirm("此操作将永久删除该商品类型, 是否继续?","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"});case 3:Object(l["c"])(e.classId),t.$message.success("删除成功"),t.getGoodsList(),n.next=10;break;case 8:n.prev=8,n.t0=n["catch"](0);case 10:case"end":return n.stop()}}),n,null,[[0,8]])})))()},pageIndexjiajia:function(){this.pageIndex++},pageIndexjianjian:function(){this.pageIndex--}},created:function(){this.getGoodsList()}},d=u,f=n("2877"),m=Object(f["a"])(d,r,i,!1,null,"49093250",null),p=m.exports,h=n("9350"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:e.isShowTitle,visible:e.visible,width:"30%"},on:{close:e.onClose}},[n("el-form",{ref:"form",attrs:{rules:e.goodsRoules,model:e.formData,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"商品类型名称:",prop:"text"}},[n("el-input",{attrs:{type:"text",placeholder:"请输入",maxlength:"10","show-word-limit":""},model:{value:e.formData.text,callback:function(t){e.$set(e.formData,"text",t)},expression:"formData.text"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.onClose}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("确 定")])],1)],1)},g=[],v=(n("d3b7"),{name:"ADDGOODS",props:{visible:{type:Boolean,required:!0},editGoodsTypeVal:{type:Object}},data:function(){var e=function(){var e=Object(c["a"])(Object(o["a"])().mark((function e(t,n,s){var a,r,i;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["f"])();case 2:a=e.sent,r=a.data.currentPageRecords,i=r.some((function(e){return e.className===n})),i?s(new Error("商品类型名称重复")):s();case 6:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}();return{formData:{text:"",classId:0,parentId:0},goodsRoules:{text:[{required:!0,message:"请输入商品类型名称",trigger:"blur"},{validator:e,trigger:"blur"}]}}},created:function(){},methods:{onClose:function(){this.$emit("update:visible",!1),this.$refs.form.resetFields(),this.formData={text:"",classId:0,parentId:0}},onSave:function(){var e=this;return Object(c["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.form.validate();case 2:if(t.prev=2,!e.formData.classId){t.next=11;break}return t.next=6,Object(l["e"])({classId:e.editGoodsTypeVal.classId,className:e.formData.text});case 6:e.$message.success("修改成功"),e.onClose(),e.$emit("addGoods"),t.next=16;break;case 11:return t.next=13,Object(l["b"])({className:e.formData.text});case 13:e.$message.success("添加成功"),e.onClose(),e.$emit("addGoods");case 16:t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](2),e.$message.error("操作失败");case 21:case"end":return t.stop()}}),t,null,[[2,18]])})))()}},computed:{isShowTitle:function(){return this.formData.classId?"修改商品类型":"新增商品类型"}}}),I=v,x=(n("1d0e"),Object(f["a"])(I,b,g,!1,null,"0ed54d0c",null)),O=x.exports,j={data:function(){return{searchItem:{firstItem:"商品类型搜索: ",secondItem:"工单状态",isSelect:!1,selectOption:[{label:"待办",value:"1"},{label:"进行",value:"2"},{label:"取消",value:"3"},{label:"完成",value:"4"}],formInline:{user:"",region:""}},dialogVisible:!1,editGoodsTypeVal:{},paging:{}}},created:function(){},components:{searchTop:h["a"],goodsTable:p,addGoods:O},methods:{searchGoods:function(e){this.$refs.search.getGoodsList(e.user)},newGoodsType:function(){this.dialogVisible=!0},addGoodsFn:function(){this.$refs.search.getGoodsList()},editGoodsType:function(e){this.editGoodsTypeVal=e,this.$refs.goods.formData.text=e.className,this.$refs.goods.formData.classId=e.classId,this.dialogVisible=!0},pagingFn:function(e){this.paging=e},PreviousPage:function(){this.$refs.search.pageIndexjianjian(),this.$refs.search.getGoodsList()},nextPage:function(){this.$refs.search.pageIndexjiajia(),this.$refs.search.getGoodsList()}}},w=j,k=(n("0811"),Object(f["a"])(w,s,a,!1,null,"566a7dc2",null));t["default"]=k.exports},"841c":function(e,t,n){"use strict";var s=n("d784"),a=n("825a"),r=n("1d80"),i=n("129f"),o=n("14c3");s("search",1,(function(e,t,n){return[function(t){var n=r(this),s=void 0==t?void 0:t[e];return void 0!==s?s.call(t,n):new RegExp(t)[e](String(n))},function(e){var s=n(t,e,this);if(s.done)return s.value;var r=a(e),c=String(this),l=r.lastIndex;i(l,0)||(r.lastIndex=0);var u=o(r,c);return i(r.lastIndex,l)||(r.lastIndex=l),null===u?-1:u.index}]}))},9350:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"search"},[n("el-form",{ref:"formInline",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[n("el-form-item",{attrs:{label:e.firstItem}},[n("el-input",{attrs:{placeholder:"请输入"},model:{value:e.formInline.user,callback:function(t){e.$set(e.formInline,"user",t)},expression:"formInline.user"}}),e.formInline.user?n("i",{staticClass:"el-icon-circle-close",on:{click:function(t){e.formInline.user=""}}}):e._e()],1),e.isSelect?n("el-form-item",{attrs:{label:e.secondItem}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formInline.region,callback:function(t){e.$set(e.formInline,"region",t)},expression:"formInline.region"}},[n("div",e._l(e.selectOption,(function(e){return n("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)]),e.formInline.user?n("i",{staticClass:"el-icon-circle-close",on:{click:function(t){e.formInline.user=""}}}):e._e()],1):e._e(),n("el-form-item",[n("bb-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.search(t)}}},[n("i",{staticClass:"el-icon-search"}),e._v(" 查询 ")])],1)],1)],1)])},a=[],r=(n("d3b7"),{data:function(){return{firstItem:this.searchItem.firstItem,secondItem:this.searchItem.secondItem||"",isSelect:this.searchItem.isSelect,selectOption:this.searchItem.selectOption,formInline:this.searchItem.formInline}},computed:{isShow:function(){var e=this;this.selectOption.some((function(t){return e.formInline.region===t.value}))}},props:{searchItem:{type:Object,required:!0}},created:function(){},methods:{search:function(){this.$emit("searchForm",this.formInline),this.$refs.formInline.resetFields()},onSubmit:function(){console.log("submit!")}}}),i=r,o=(n("a8b1"),n("2877")),c=Object(o["a"])(i,s,a,!1,null,"ba693876",null);t["a"]=c.exports},a8b1:function(e,t,n){"use strict";n("f317")},c40e:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"h",(function(){return d}));var s=n("b775"),a=function(e){return Object(s["a"])({url:"/api/vm-service/skuClass/search",params:e})},r=function(e){return Object(s["a"])({url:"/api/vm-service/skuClass",method:"POST",data:e})},i=function(e){return Object(s["a"])({url:"/api/vm-service/skuClass/"+e,method:"DELETE"})},o=function(e){return Object(s["a"])({url:"/api/vm-service/skuClass/"+e.classId,method:"PUT",data:e})},c=function(e){return Object(s["a"])({url:"/api/vm-service/sku/search",params:e})},l=function(e){return Object(s["a"])({url:"/api/vm-service/sku",method:"POST",data:e})},u=function(e){return Object(s["a"])({url:"/api/vm-service/sku/"+e.skuId,method:"PUT",data:e})},d=function(e){return Object(s["a"])({url:"/api/vm-service/sku/upload",method:"POST",data:e})}},d7b0:function(e,t,n){},f317:function(e,t,n){}}]);