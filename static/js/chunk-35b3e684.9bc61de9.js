(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35b3e684"],{1779:function(e,t,n){"use strict";n("4bef")},"4bef":function(e,t,n){},5845:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"search"},[n("el-form",{ref:"formInline",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[n("el-form-item",{attrs:{label:e.firstItem}},[n("el-input",{attrs:{placeholder:"请输入"},model:{value:e.formInline.user,callback:function(t){e.$set(e.formInline,"user",t)},expression:"formInline.user"}}),e.formInline.user?n("i",{staticClass:"el-icon-circle-close",on:{click:function(t){e.formInline.user=""}}}):e._e()],1),e.isSelect?n("el-form-item",{attrs:{label:e.secondItem}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formInline.region,callback:function(t){e.$set(e.formInline,"region",t)},expression:"formInline.region"}},[n("div",e._l(e.selectOption,(function(e){return n("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)]),e.formInline.user?n("i",{staticClass:"el-icon-circle-close",on:{click:function(t){e.formInline.user=""}}}):e._e()],1):e._e(),n("el-form-item",[n("bb-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.search(t)}}},[n("i",{staticClass:"el-icon-search"}),e._v(" 查询 ")])],1)],1)],1)])},r=[],i=(n("d3b7"),{data:function(){return{firstItem:this.searchItem.firstItem,secondItem:this.searchItem.secondItem||"",isSelect:this.searchItem.isSelect,selectOption:this.searchItem.selectOption,formInline:this.searchItem.formInline}},computed:{isShow:function(){var e=this;this.selectOption.some((function(t){return e.formInline.region===t.value}))}},props:{searchItem:{type:Object,required:!0}},created:function(){},methods:{search:function(){this.$emit("searchForm",this.formInline),this.$refs.formInline.resetFields()},onSubmit:function(){console.log("submit!")}}}),o=i,c=(n("1779"),n("2877")),s=Object(c["a"])(o,a,r,!1,null,"fef4073c",null);t["a"]=s.exports},"5c09":function(e,t,n){"use strict";n("f706")},d2f6:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("searchTop",{attrs:{searchItem:e.searchItem},on:{searchForm:e.searchFormFn}}),n("TableComponent",e._b({attrs:{isOneBtn:!0,NavList:e.NavList},on:{changePage:e.changePageFn,showAddDialog:e.showAddDialogFn},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(n){return e.editFn(t)}}},[e._v("修改")]),n("el-button",{staticStyle:{color:"red"},attrs:{size:"mini",type:"text"},on:{click:function(n){return e.delFn(t)}}},[e._v("删除")])]}}])},"TableComponent",e.searchResults,!1,!0)),n("addVmType",{attrs:{isEdit:e.isEdit,dialogVisible:e.dialogVisible,currentEditData:e.currentEditData},on:{"update:dialogVisible":function(t){e.dialogVisible=t},"update:dialog-visible":function(t){e.dialogVisible=t},addSuccess:e.addSuccessFn,changeisEdit:function(t){e.isEdit=!1}}})],1)},r=[],i=n("c7eb"),o=n("1da1"),c=(n("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,width:"50%"},on:{close:e.onClose}},[n("el-form",{ref:"form",attrs:{rules:e.formRules,model:e.form,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"型号名称",prop:"name"}},[n("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:"型号编码",prop:"model"}},[n("el-input",{attrs:{placeholder:"请输入（限制数字、字母、中划线、下划线）"},model:{value:e.form.model,callback:function(t){e.$set(e.form,"model",t)},expression:"form.model"}})],1),n("el-form-item",{attrs:{label:"货道行数",prop:"vmRow"}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:1,placeholder:"请输入"},on:{change:e.handleChangevmRow},model:{value:e.form.vmRow,callback:function(t){e.$set(e.form,"vmRow",t)},expression:"form.vmRow"}})],1),n("el-form-item",{attrs:{label:"货道列数",prop:"vmCol"}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:1,placeholder:"请输入"},on:{change:e.handleChangevmCol},model:{value:e.form.vmCol,callback:function(t){e.$set(e.form,"vmCol",t)},expression:"form.vmCol"}})],1),n("el-form-item",{attrs:{label:"货道容量",prop:"channelMaxCapacity"}},[n("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:1,placeholder:"请输入"},on:{change:e.handleChangechannelMaxCapacity},model:{value:e.form.channelMaxCapacity,callback:function(t){e.$set(e.form,"channelMaxCapacity",t)},expression:"form.channelMaxCapacity"}})],1),n("el-form-item",{attrs:{label:"设备图片",prop:"image"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","http-request":e.handleAvatarUpload,"before-upload":e.beforeAvatarUpload}},[e.form.image?n("img",{staticClass:"avatar",attrs:{src:e.form.image}}):n("i",{staticClass:"el-icon-upload avatar-uploader-icon"})]),n("p",{staticStyle:{color:"#ccc"}},[e._v("支持扩展名：jpg、png，文件不得大于100kb")])],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("dkd-button",{staticClass:"cancelBtn",attrs:{user:"cancel"},on:{click:e.onClose}},[e._v("取 消")]),n("dkd-button",{attrs:{type:"primary",user:"sure"},on:{click:e.addVmType}},[e._v("确 认")])],1)],1)}),s=[],l=n("f564"),u={data:function(){return{form:{name:"",model:"",vmRow:void 0,vmCol:void 0,channelMaxCapacity:void 0,image:""},formRules:{name:[{required:!0,message:"请输入型号名称",trigger:"blur"}],model:[{required:!0,message:"请输入型号编码",trigger:"blur"},{patern:/^[a-zA-Z0-9_-]{1,15}$/,message:"型号编码格式错误",trigger:"blur"}],vmRow:[{required:!0,message:"请输入货道行数",trigger:"blur"}],vmCol:[{required:!0,message:"请输入货道列数",trigger:"blur"}],channelMaxCapacity:[{required:!0,message:"请输入货道容量",trigger:"blur"}],image:[[{required:!0,message:"请上传图片",trigger:"blur"}]]}}},computed:{dialogTitle:function(){return this.isEdit?"修改设备类型":"新增设备类型"}},beforeMount:function(){},props:{dialogVisible:{type:Boolean,default:!1},currentEditData:{type:Object,default:function(){return{}}},isEdit:{type:Boolean,default:!1}},watch:{isEdit:{immediate:!0,handler:function(){this.isEdit&&(this.form=this.currentEditData)}}},methods:{onClose:function(){this.$emit("update:dialogVisible",!1),this.$refs.form.resetFields(),this.form={name:"",model:"",vmRow:void 0,vmCol:void 0,channelMaxCapacity:void 0,image:""},this.$emit("changeisEdit")},addVmType:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.form.validate();case 2:if(e.isEdit){t.next=7;break}return t.next=5,Object(l["c"])(e.form);case 5:t.next=9;break;case 7:return t.next=9,Object(l["i"])(e.currentEditData.typeId,e.form);case 9:e.$emit("addSuccess"),e.onClose();case 11:case"end":return t.stop()}}),t)})))()},handleChangevmRow:function(e){this.form.vmRow=e},handleChangevmCol:function(e){this.form.vmCol=e},handleChangechannelMaxCapacity:function(e){this.form.channelMaxCapacity=e},handleAvatarUpload:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function n(){var a,r;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=new FormData,a.append("fileName",e.file),n.next=4,Object(l["a"])(a);case 4:r=n.sent,t.form.image=r.data;case 6:case"end":return n.stop()}}),n)})))()},beforeAvatarUpload:function(e){var t="image/jpg"===e.type||"image/png",n=e.size/1024<100;return t||this.$message.error("上传头像图片只能是 JPG和PNG 格式!"),n||this.$message.error("上传头像图片大小不能超过 100Kb!"),t&&n}}},m=u,d=(n("5c09"),n("2877")),f=Object(d["a"])(m,c,s,!1,null,"dac5bf82",null),p=f.exports,h=n("5845"),v=n("01c8"),b={data:function(){return{searchItem:{firstItem:"型号搜索",secondItem:"",isSelect:!1,formInline:{user:""}},baseParams:{pageIndex:1,pageSize:10,name:""},searchResults:{},NavList:[{label:"型号名称",value:"name"},{label:"型号编码",value:"model"},{label:"设备图片",value:"image"},{label:"货道行",value:"vmRow"},{label:"货道列",value:"vmCol"},{label:"设备容量",value:"channelMaxCapacity"}],dialogVisible:!1,currentEditData:{},isEdit:!1}},components:{searchTop:h["a"],TableComponent:v["a"],addVmType:p},created:function(){this.getVmSearch(this.baseParams)},beforeUpdate:function(){this.searchResults.pageSize=+this.searchResults.pageSize,this.searchResults.pageIndex=+this.searchResults.pageIndex},methods:{getVmSearch:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function n(){var a;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(l["k"])(e);case 2:a=n.sent,t.searchResults=a.data,console.log(t.searchResults);case 5:case"end":return n.stop()}}),n)})))()},changePageFn:function(){this.getVmSearch({pageIndex:this.searchResults.pageIndex,pageSize:this.searchResults.pageSize})},searchFormFn:function(e){console.log(e),this.baseParams.name=e.user,this.getVmSearch(this.baseParams)},editFn:function(e){this.currentEditData=e.data,console.log(this.currentEditData),this.isEdit=!0,this.dialogVisible=!0},delFn:function(e){var t=this;return Object(o["a"])(Object(i["a"])().mark((function n(){return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(l["h"])(e.data.typeId);case 3:t.getVmSearch(t.baseParams),t.$message.success("删除成功"),n.next=9;break;case 7:n.prev=7,n.t0=n["catch"](0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})))()},addSuccessFn:function(){this.getVmSearch(this.baseParams)},showAddDialogFn:function(){this.isEdit=!1,this.dialogVisible=!0}}},g=b,C=Object(d["a"])(g,a,r,!1,null,"2c48b976",null);t["default"]=C.exports},f564:function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"k",(function(){return i})),n.d(t,"h",(function(){return o})),n.d(t,"p",(function(){return c})),n.d(t,"q",(function(){return s})),n.d(t,"s",(function(){return l})),n.d(t,"v",(function(){return u})),n.d(t,"t",(function(){return m})),n.d(t,"c",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"o",(function(){return v})),n.d(t,"b",(function(){return b})),n.d(t,"r",(function(){return g})),n.d(t,"d",(function(){return C})),n.d(t,"f",(function(){return O})),n.d(t,"w",(function(){return j})),n.d(t,"e",(function(){return y})),n.d(t,"n",(function(){return x})),n.d(t,"m",(function(){return I})),n.d(t,"u",(function(){return w})),n.d(t,"g",(function(){return k}));n("99af");var a=n("b775"),r=function(e){return Object(a["a"])({method:"GET",url:"/api/vm-service/vm/search",params:e})},i=function(e){return Object(a["a"])({method:"GET",url:"/api/vm-service/vmType/search",params:e})},o=function(e){return Object(a["a"])({method:"DELETE",url:"/api/vm-service/vmType/"+e})},c=function(e,t,n){return Object(a["a"])({method:"GET",url:"/api/order-service/report/orderAmount?start=".concat(e,"&end=").concat(t,"&innerCode=").concat(n)})},s=function(e,t,n){return Object(a["a"])({method:"GET",url:"/api/order-service/report/orderCount?start=".concat(e,"&end=").concat(t,"&innerCode=").concat(n)})},l=function(e,t,n,r){return Object(a["a"])({method:"GET",url:"/api/task-service/task/repairCount/"+e+"/"+t+"/"+n,paramas:r})},u=function(e,t,n,r){return Object(a["a"])({method:"GET",url:"/api/task-service/task/supplyCount/"+e+"/"+t+"/"+n,paramas:r})},m=function(e,t,n,r){return Object(a["a"])({method:"GET",url:"/api/order-service/report/skuCollect/"+e+"/"+t+"/"+n,paramas:r})},d=function(e){return Object(a["a"])({method:"post",url:"/api/vm-service/vmType",data:e})},f=function(e,t){return Object(a["a"])({method:"PUT",url:"/api/vm-service/vmType/"+e,data:t})},p=function(e){return Object(a["a"])({method:"post",url:"/api/vm-service/sku/fileUpload",data:e})},h=function(){return Object(a["a"])({method:"GET",url:"/api/vm-service/vmType/search?pageIndex=1&pageSize=100000"})},v=function(){return Object(a["a"])({method:"GET",url:"/api/vm-service/node/search?pageIndex=1&pageSize=100000"})},b=function(e){return Object(a["a"])({method:"POST",url:"/api/vm-service/vm",data:e})},g=function(){return Object(a["a"])({url:"/api/vm-service/policy"})},C=function(e){return Object(a["a"])({url:"/api/vm-service/vm/applyPolicy",method:"PUT",data:e})},O=function(e,t){return Object(a["a"])({url:"/api/vm-service/vm/"+e+"/"+t,method:"PUT"})},j=function(e){return Object(a["a"])({url:"/api/vm-service/policy/vmPolicy/"+e})},y=function(e,t){return Object(a["a"])({url:"/api/vm-service/vm/cancelPolicy/"+e+"/"+t,method:"PUT"})},x=function(e){return Object(a["a"])({url:"/api/vm-service/channel/channelList/"+e})},I=function(e){return Object(a["a"])({url:"/api/vm-service/sku/businessTop10/"+e})},w=function(e,t){return Object(a["a"])({url:"/api/vm-service/sku/search",params:{pageIndex:e,pageSize:10,skuName:t}})},k=function(e){return Object(a["a"])({url:"/api/vm-service/channel/channelConfig",method:"PUT",data:e})}},f706:function(e,t,n){}}]);